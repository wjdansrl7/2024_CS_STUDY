# 컴포지트 패턴

# 복합체 패턴이란?

컴포지트 패턴(복합체 패턴)은 복합 객체와 단일 객체를 동일한 컴포넌트로 취급하여, 클라이언트에게 이 둘을 구분하지 않고 동일한 인터페이스를 사용하도록 하는 구조 패턴이다. 

복합체 패턴에서는 개별 객체와 복합 객체(부분과 전체를 나타내는 객체)를 같은 인터페이스를 가진다는 특징이 있다. 이를 통해 클라이언트는 개별 객체와 복합 객체를 구분하지 않고 동일한 방식으로 다룰 수 있다. 또한 복합 객체에서는 자식 객체를 추가하거나 제거하는 등의 작업을 수행할 수 있다.

복합체 패턴은 객체들이 계층 구조로 구성되어 있는 경우 예를 들어 UI요소나 파일 시스템 등의 경우에 유용하게 사용된다. 또한 개별 객체와 복합 객체를 동일한 인터페이스로 다룰 수 있기 때문에 클라이언트 코드를 단순화하고 확장성을 높일 수 있게 해 준다. 

## 복합체 패턴 구성요소

![Untitled](images/컴포지트패턴.png)

- component - 모든 객체가 구현해야 하는 공통 인터페이스를 정의한다. 이를 통해 개별객체와 복합객체가 동일한 방식으로 다룰 수 있다.
- leaf - 복합체에서 가장 작은 단위인 개별 객체를 나타낸다. 이 객체는 복합 객체와는 다른 방식으로 다뤄지며 자식 객체를 가질 수 없다.
- composite - 복합객체를 나타낸다. 이 객체는 여러 개의 자식 객체를 가질 수 있으며 자식 객체를 추가하거나 제거하는 등의 작업을 수행할 수 있다.
- client - 복합체를 이용하는 객체이다. 이 객체는 개별 객체와 복합 객체를 구분하지 않고, 동일한 방식으로 다룰 수 있다.

## 복합체 패턴은 어떤 경우에 사용하는가

- 객체들 간의 전체 - 부분 계층 구조가 존재하는 경우
    
    복합체 패턴들은 객체들을 전체-부분 계층 구조로 구성할 수 있기 때문에, 이러한 구조가 필요한 경우에 사용된다. 예를 들어 그래픽 에디터에서 그림이나 도형을 구성하는 데 사용되는 객체들은 전체 - 부분 계층 구조를 이루기 때문에 복합체 패턴을 사용할 수 있다.
    
- 객체들이 동일한 인터페이스를 사용하는 경우
    
    복합체 패턴에서는 개별 객체와 복합 객체를 동일한 인터페이스로 다룰 수 있기 때문에 객체들이 동일한 인터페이스를 사용하는 경우에 사용된다. 예를 들어 파일 시스템에서 파일과 디렉터리는 동일한 인터페이스를 사용하기 때문에 복합체 패턴을 사용할 수 있다.
    
- 객체들 간의 관계가 동적으로 변경될 수 있는 경우
    
    복합객체에서 자식객체를 추가하거나 제거하는 등의 작업을 수행할 수 있기 때문에 객체 간의 관계가 동적으로 변경될 수 있는 경우에 사용된다. 예를 들어 문서 처리 프로그램에서 문서의 구성 요소들은 동적으로 변경될 수 있기 때문에 복합체 패턴을 사용할 수 있다.
    

## 복합체 패턴의 장점

- 객체들 간의 전체-부분 계층 구조를 쉽게 구현할 수 있다.
- 개별 객체와 복합 객체를 동일한 인터페이스로 다룰 수 있기 때문에 일관성 있는 인터페이스를 제공할 수 있다.
- 객체 간의 관계가 동적으로 변경될 수 있는 경우에도 유연하게 대처할 수 있다.
- 객체들을 재귀적으로 다룰 수 있기 때문에, 코드의 재사용성과 유지보수성이 높아진다.

## 복합체 패턴의 단점

- 복합 객체를 다룰 때는 개별 객체와는 달리 추가적인 오버헤드가 발생할 수 있다.
- 복합 객체에서 자식 객체를 다룰 때 예외처리 등을 고려해야한다.
- 복합 객체에서 자식 객체를 검사할 때는 일반적인 탐색 알고리즘보다 더 복잡한 알고리즘이 필요할 수 있다.
- 복합 객체의 구성 요소들이 너무 많은 경우, 복잡한 복합 객체가 생성될 수 있어서 이를 다루기 어려울 수 있다.

출처 

[https://inpa.tistory.com/entry/GOF-💠-복합체Composite-패턴-완벽-마스터하기](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EB%B3%B5%ED%95%A9%EC%B2%B4Composite-%ED%8C%A8%ED%84%B4-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0)

[https://ssow93.tistory.com/50#google_vignette](https://ssow93.tistory.com/50#google_vignette)

[https://mygumi.tistory.com/343](https://mygumi.tistory.com/343)