# MVC 패턴

> Model, View, Controller의 약자로, 하나의 어플리케이션이나 프로젝트를 구성할때 구성요소를 세가지 역할로 구분한 패턴이다.

## Model, View, Controller의 관계

![MVC](/ModelViewControllerDiagram.png)

1.  사용자의 요청을 controller가 받는다.
2.  Controller가 Service에서 비즈니스 로직을 처리한 후 결과를 Model에 담는다.
3.  Model에 저장된 결과를 바탕으로 시각적 요소 출력을 담당하는 View를 제어하여 사용자에게 전달한다.

## Controller

> Controller는 Model과 View사이에서 데이터 흐름을 제어한다.

### 규칙

1.  Model이나 View에 대해서 알고 있어야한다.
2.  Model이나 View의 변경을 모니터링해야한다.

## Model

- Controller에게 받은 데이터를 조작(가공)하는 역할을 수행한다. 즉 데이터와 관련된 부분을 담당하여 값과 기능을 가진다.

### 규칙

1.  사용자가 편집하길 원하는 데이터를 가지고 있어야한다.
2.  View나 Controller에 대해서는 어떤 정보도 알지 말아야 한다.
3.  변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야만 한다.

## View

- Controller에게 받은 Model의 데이터를 사용자에게 시각적으로 보여주기 위한 역할을 수행한다. 즉 사용자에게 보여지는 화면을 의미한다.

### 규칙

1.  Model이 가지는 있는 정보를 따로 저장해서는 안된다.
2.  Model이나 Controller를 알고 있을 필요가 없다.
3.  변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다.

## 규칙 정리

1. Model은 Controller나 View에 의존해서는 안된다.

   > 모델 내부에 컨트롤러 및 뷰와 관련된 코드가 있어서는 안된다.

2. 뷰는 모델에만 의존해야하고, 컨트롤러는 의존하면 안된다.

   > 뷰 내부에 모델의 코드만 존재하고, 컨트롤러 코드가 있으면 안된다.

3. 뷰가 모델로부터 데이터를 받을 때는 사용자마다 다르게 보여주어야하는 데이터에 한해서만 받아야한다.

4. 컨트롤러는 모델과 뷰에 의존해도 된다.

   > 컨트롤러 내부에는 모델과 뷰의 코드가 있을 수 있다.

5. 뷰가 모델로부터 데이터를 받을 때는 반드시 컨트롤러에서 받아야 한다.

## MVC 사용 이유!

1. **관심사의 분리**로 인해서 서로간의 결합도를 낮출 수 있다.

   > MVC각각 데이터 및 비즈니스 로직, 사용자 인터페이스 , 요청 처리 및 흐름 제어 등 명확하게 역할을 분리할 수 있다.

2. 코드의 재사용성 및 확장성

   > Model과 Controller는 여러 View에서 재사용할 수 있고, view의 경우도

3. 서비스 유지보수 및 테스트에 용이
4. 개발자 간의 커뮤니케이션 효율성이 증가

## MVC 패턴의 한계

1. Model과 View의 의존성을 완전히 분리할 수 없다.

   > 하나의 view를 구성하는 데 여러 model이 필요할 수 있다. 그렇다면 controller에 다수의 view와 model이 복잡하게 연결되어 **상호 의존성이 커지는 상황**이 발생한다.

2. Controller의 비중이 높아져 부담이 커진다면 `Massive-View-Controller` 현상을 피할 수 없다.

   ![MVC](/Massive-view-controller.png)

   > 다수의 View와 Model이 Controller를 통해 복잡하게 연결될 수 있기 때문에 Controller가 뚱뚱해지게 되는 Massive ViewController(대규모 MVC 어플리케이션)가 되어버립니다.

   > 이는 주로 대규모 애플리케이션에서 발생할 수 있으며, 코드의 비대화, 재사용성 및 확장성 저하, 유지보수성 하락 및 테스트 용이성 저하 등의 문제를 야기할 수 있다.
